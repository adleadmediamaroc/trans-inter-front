<div class="d-flex justify-content-center">
    <button (click)="profileColl()" [ngClass]="{'selected': isSelected}" pButton pRipple type="button" label="Profile" class="p-button-outlined p-mr-2 p-mb-2 custom-button"></button>
    <button (click)="permissionColl()" [ngClass]="{'selected': Selected}" pButton pRipple type="button" label="Permission des modules" class="p-button-outlined p-mr-2 p-mb-2 custom-button"></button>
</div>
<div class="d-flex justify-content-center" >
    <div class="col-md-10 p-3">
        <div class="card shadow">
            <div  *ngIf="permission" class="tab-pane fade show active" >
                <form >


                    <div class="field">
                        <label for="role" class="form-label required-field">Rôle</label>
                        <select pDropdown id="role" class="form-control" [(ngModel)]="selectedRolePermissions" name="role"  (change)="onRoleChange() ">
                            <option value="" disabled selected>Sélectionnez un rôle</option>
                            <option *ngFor="let role of roles" [value]="role.roleid">{{ role.roleName }}</option>
                        </select>
                    </div>

                    <div *ngIf="rolePermission.length > 0">
                        <h4>Permissions du rôle sélectionné :</h4>
                        <ul>
                            <li *ngFor="let permission of rolePermission">
                                <strong>Permission ID:</strong> {{ permission.permissionid}} <br>
                                <strong>Peut voir:</strong> {{ permission.canView }} <br>
                                <strong>Peut créer:</strong> {{ permission.canCreate }} <br>
                                <strong>Peut éditer:</strong> {{ permission.canEdit }} <br>
                                <strong>Peut supprimer:</strong> {{ permission.canDelete }} <br>
                            </li>
                        </ul>
                    </div>


                    <p-table  rowGroupMode="subheader" groupRowsBy="representative.name" sortField="representative.name" sortMode="single" responsiveLayout="scroll" [scrollable]="true" scrollHeight="400px">
                        <ng-template pTemplate="header">
                            <tr>
                                <th>Permission</th>
                                <th>Afficher</th>
                                <th>Modifier</th>
                                <th>Ajouter</th>
                                <th>Supprimer</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-customer let-rowIndex="rowIndex">

                        </ng-template>
                    </p-table>

                    <!-- 2 column grid layout -->

                    <!-- Submit button -->
                   </form>
            </div>

            <div *ngIf="profile" class="tab-pane fade  show active" >
                <form  (ngSubmit)="addCollaborateur()" #form="ngForm">
                        <div class="card p-fluid ">
                            <div class="form-check d-flex  mb-4">
                                <input
                                    class="form-check-input me-2"
                                    type="checkbox"
                                    value=""
                                    id="quth"
                                    checked
                                    aria-describedby="registerCheckHelpText"
                                />
                                <label class="form-check-label" for="registerCheck">
                                    Autoriser l'authentification à deux etapes
                                </label>
                            </div>
                            <div class="form-check d-flex  mb-4">
                                <input class="form-check-input me-2"  type="checkbox"  value="" id="perso" checked aria-describedby="registerCheckHelpText"/>
                                <label class="form-check-label" for="registerCheck">
                                    Ce n'est pas un membre de personnel
                                </label>
                            </div>

                            <div class="field">
                                <label class="form-label required-field"  htmlFor="name1">Prenom</label>
                                <input pInputText id="name1" type="text" class="form-control" [(ngModel)]="collaborateur.firstName" required="required" name="firstName" />
                            </div>
                            <div class="field">
                                <label class="form-label required-field" htmlFor="lastname">Nom</label>
                                <input pInputText id="lastname" type="text"  class="form-control" [(ngModel)]="collaborateur.lastName" name="lastName" required />
                            </div>

                            <div class="field">
                                <label htmlFor="email1" class="form-label required-field">Email</label>
                                <input pInputText id="email1" type="text" class="form-control" [(ngModel)]="collaborateur.email" name="email" required />
                            </div>


                            <div class="field">
                                <label htmlFor="tel" class="form-label ">Telephone</label>
                                <input pInputText id="tel" type="text" class="form-control" [(ngModel)]="collaborateur.phoneNumber" name="phoneNumber" />
                            </div>
                            <div class="form-outline field">
                                <label htmlFor="signature" class="form-label ">Signature Email</label>
                                <input pInputText id="signature" type="text" class="form-control" [(ngModel)]="collaborateur.emailSignature" name="emailSignature" />
                            </div>

                            <div class="form-check d-flex  mb-4">
                                <input
                                    class="form-check-input me-2"
                                    type="checkbox"
                                    value=""
                                    id="admin"
                                    checked
                                    aria-describedby="registerCheckHelpText"
                                />
                                <label class="form-check-label" for="registerCheck">
                                    Definir comme administrateur
                                </label>
                            </div>
                            <div class="form-check d-flex  mb-4">
                                <input
                                    class="form-check-input me-2"
                                    type="checkbox"
                                    value=""
                                    id="registerCheck"
                                    checked
                                    aria-describedby="registerCheckHelpText"
                                />
                                <label class="form-check-label" for="registerCheck">
                                    Envoyer un email de bienvenue
                                </label>
                            </div>


                            <div class="field">
                                <label htmlFor="Password" class="form-label required-field">Password</label>
                                <input pInputText id="Password" type="password" class="form-control"  required [(ngModel)]="collaborateur.password" name="password"/>
                            </div>

                            <div class="field">
                            <button pButton pRipple label="Enregitrer" type="submit" [disabled]="!form.valid" style="width:200px"></button>
                            </div>


                        </div>







                    <!--   <div class="form-outline mb-4">
                           <label class="form-label" for="profileImage">Image Profile</label>
                           <input type="file"  id="profileImage" (change)="onFileSelected($event)" [(ngModel)]="collaborateur.profile_image" name="profileImage" >

                       </div>-->


                    <!-- Name input -->


                    <!-- Username input -->

                    <!-- Email input -->


                    <!-- Password input -->


                    <!-- Repeat Password input -->


                    <!-- Checkbox -->



                    <!-- Submit button -->
                     </form>
            </div>
        </div>
    </div>
</div>




